--- origsrc/vlc-0.8.6i/configure.ac	2008-07-17 15:20:28.859375000 -0500
+++ src/vlc-0.8.6i/configure.ac	2008-07-17 15:21:06.406250000 -0500
@@ -611,7 +611,7 @@
 
 # Win32 style
 if test "${ac_cv_have_plugins}" = "no"; then
-  if test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"; then
+  if test "${SYS}" = "mingw32"; then
     AC_CHECK_LIB(kernel32, main,
      [VLC_ADD_LDFLAGS([vlc],[-lkernel32])
       AC_DEFINE(HAVE_DL_WINDOWS, 1, [Define if you have Windows' LoadLibrary])
@@ -1860,7 +1860,7 @@
   [  --enable-dshow          Win32 DirectShow support (default enabled on Win32)])
 if test "${enable_dshow}" != "no"
 then
-  if test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"
+  if test "${SYS}" = "mingw32"
   then
     AC_LANG_PUSH(C++)
       AC_CHECK_HEADERS(dshow.h,
@@ -3350,7 +3350,7 @@
 then
   AC_CHECK_HEADERS(theora/theora.h, [
     AC_CHECK_LIB(theora, theora_granule_time, [
-      if test "${SYS}" = "mingw32"; then
+      if test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"; then
         VLC_ADD_PLUGINS([theora])
       else
         VLC_ADD_BUILTINS([theora])
@@ -3372,7 +3372,7 @@
   PKG_CHECK_MODULES(DIRAC,dirac, [
       VLC_ADD_PLUGINS([dirac])
       VLC_ADD_CFLAGS([dirac],[$DIRAC_CFLAGS])
-      VLC_ADD_LDFLAGS([dirac],[$DIRAC_LIBS -lstdc++]) ],[
+      VLC_ADD_LDFLAGS([dirac],[$DIRAC_LIBS]) ],[
       AC_MSG_ERROR([libdirac doesn't appear to be installed on you system.])
   ])
 fi
@@ -3944,7 +3944,7 @@
   [  --enable-directx        Win32 DirectX support (default enabled on Win32)])
 if test "${enable_directx}" != "no"
 then
-  if test "${SYS}" = "mingw32" -o "${SYS}" = "mingwce" -o "${SYS}" = "cygwin"
+  if test "${SYS}" = "mingw32" -o "${SYS}" = "mingwce"
   then
     AC_ARG_WITH(directx,
     [    --with-directx=PATH   Win32 DirectX headers])
@@ -4146,7 +4146,7 @@
 AC_ARG_ENABLE(wingdi,
   [  --enable-wingdi         Win32 GDI module (default enabled on Win32)])
 if test "${enable_wingdi}" != "no"; then
-  if test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"; then
+  if test "${SYS}" = "mingw32"; then
     VLC_ADD_PLUGINS([wingdi])
     VLC_ADD_LDFLAGS([wingdi],[-lgdi32])
   fi
@@ -4438,7 +4438,7 @@
     fi
   fi
 
-  if test "${skins2_missing_lib}" = "no" && (test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"); then
+  if test "${skins2_missing_lib}" = "no" && test "${SYS}" = "mingw32"; then
     VLC_ADD_PLUGINS([skins2])
     ALIASES="${ALIASES} svlc"
     VLC_ADD_CPPFLAGS([skins2],[-U_OFF_T_ -U_off_t -Imodules/gui/skins2 -DWIN32_SKINS])
@@ -5099,7 +5099,7 @@
   [    --with-wine-sdk-path=PATH path to wine sdk])
 if test "${enable_activex}" != "no"
 then
-  if test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"
+  if test "${SYS}" = "mingw32"
   then
     AC_CHECK_PROGS(MIDL, [midl], no)
     if test "${with_wine_sdk_path}" != ""
@@ -5355,7 +5355,7 @@
 dnl
 dnl Microsoft Layer for Unicode for WIN9x/ME
 dnl
-if test "${SYS}" = "mingw32" -o "${SYS}" = "cygwin"
+if test "${SYS}" = "mingw32"
 then
     AC_CHECK_LIB(unicows, LoadUnicowsSymbol, [
         VLC_ADD_LDFLAGS([vlc],[-Wl,--exclude-libs,libunicows.a -lunicows])
--- origsrc/vlc-0.8.6i/src/Makefile.am	2008-07-08 15:59:25.000000000 -0500
+++ src/vlc-0.8.6i/src/Makefile.am	2008-07-17 15:21:06.500000000 -0500
@@ -122,16 +122,16 @@
 
 stamp-builtins: Makefile ../vlc-config ../config.status
 if USE_LIBTOOL
-	@for c in `$(VLC_CONFIG) --libs builtin`; do \
+	@for c in `$(VLC_CONFIG) --target builtin`; do \
 		case $$c in \
-        		../modules/*.a) echo $$c ;; \
+        		../modules/*.la) echo $$c ;; \
 		esac ; \
 	done | \
-	sed -e 's,^\(.*\)/\([^/]*\)\.a$$,cd \1 \&\& $(MAKE) \2_builtin.la,g' | \
+	sed -e 's,^\(.*\)/\([^/]*\)$$,cd \1 \&\& $(MAKE) \2,g' | \
 	while read cmd; do echo $$cmd; eval "($$cmd)" || exit $$? ; done
 endif
 if BUILD_SHARED
-	@for c in `$(VLC_CONFIG) --libs builtin`; do \
+	@for c in `$(VLC_CONFIG) --target builtin`; do \
 		case $$c in \
 			../modules/*.a) echo $$c ;; \
 		esac ; \
@@ -156,7 +156,7 @@
 libvlc_la_CXXFLAGS = `$(VLC_CONFIG) --cxxflags vlc`
 libvlc_la_OBJCFLAGS = `$(VLC_CONFIG) --objcflags vlc`
 libvlc_la_LDFLAGS = \
-	`$(VLC_CONFIG) --libs vlc builtin|sed -e 's/\(modules\/[^ ]*\)\.a /\1_builtin.la /g'` \
+	`$(VLC_CONFIG) --libs vlc builtin` \
 	-version-info 0:8:0 \
 	-no-undefined
 libvlc_la_DEPENDENCIES = stamp-builtins
--- origsrc/vlc-0.8.6i/vlc-config.in.in	2008-07-08 15:59:25.000000000 -0500
+++ src/vlc-0.8.6i/vlc-config.in.in	2008-07-17 15:21:06.546875000 -0500
@@ -267,7 +267,8 @@
     for module in `echo "${builtins}"`; do
       register_targets "${module}"
     done
-    for target in `echo "${list}"`; do printf "${top_builddir}modules/${target}.a "; done
+@USE_LIBTOOL_TRUE@    for target in `echo "${list}"`; do printf "${top_builddir}modules/${target}_builtin.la "; done
+@USE_LIBTOOL_FALSE@    for target in `echo "${list}"`; do printf "${top_builddir}modules/${target}.a "; done
     printf '\n'
   fi
   exit 0
@@ -320,11 +321,13 @@
       register_targets "${module}"
       register_flags "${module}"
     done
-    for target in `echo "${list}"`; do printf "${top_builddir}modules/${target}.a "; done
+@USE_LIBTOOL_TRUE@    for target in `echo "${list}"`; do printf "${top_builddir}modules/${target}_builtin.la "; done
+@USE_LIBTOOL_FALSE@    for target in `echo "${list}"`; do printf "${top_builddir}modules/${target}.a "; done
   fi
   if test "${echo_external}" = yes; then
     for module in `echo "${builtins}"`; do
-      ldflags="${ldflags} @libdir@/vlc/lib${module}.a"
+@USE_LIBTOOL_TRUE@       :
+@USE_LIBTOOL_FALSE@      ldflags="${ldflags} @libdir@/vlc/lib${module}.a"
     done
     for module in `echo "${builtins}"`; do
       register_flags "${module}"
